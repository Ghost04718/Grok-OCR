<!DOCTYPE html>
<html>
<head>
  <title>Grok OCR Extension</title>
  <link rel="stylesheet" href="popup.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="app-container">
    <header>
      <div class="logo">
        <i class="fas fa-eye"></i>
        <h1>Grok OCR</h1>
      </div>
      <div class="header-actions">
        <button id="toggle-theme" class="icon-button" title="Toggle Dark/Light Mode">
          <i class="fas fa-moon"></i>
        </button>
        <button id="settings-button" class="icon-button" title="Settings">
          <i class="fas fa-cog"></i>
        </button>
      </div>
    </header>
    
    <div class="content-area">
      <div id="loading" class="loading-container">
        <div class="loading-pulse"></div>
        <p>Extracting text from image...</p>
      </div>
      
      <div id="error-container" class="error-container">
        <div class="error-icon">
          <i class="fas fa-exclamation-circle"></i>
        </div>
        <h3>Oops! Something went wrong</h3>
        <p id="error-message"></p>
        <button id="open-options" class="primary-button">
          <i class="fas fa-wrench"></i>
          Check API Settings
        </button>
      </div>
      
      <div id="results-container" class="results-container">
        <div class="image-card">
          <div class="card-header">
            <h3><i class="fas fa-image"></i> Source Image</h3>
            <div class="card-actions">
              <button id="expand-image" class="icon-button" title="Expand image">
                <i class="fas fa-expand"></i>
              </button>
            </div>
          </div>
          <div class="image-preview">
            <img id="image-preview" alt="Image preview">
          </div>
        </div>
        
        <div class="text-card">
          <div class="card-header">
            <div class="header-with-badge">
              <h3><i class="fas fa-font"></i> Extracted Text</h3>
              <span id="word-count" class="badge">0 words</span>
            </div>
            <div class="card-actions">
              <button id="download-button" class="icon-button" title="Download as text file">
                <i class="fas fa-download"></i>
              </button>
              <button id="copy-button" class="icon-button" title="Copy to clipboard">
                <i class="fas fa-copy"></i>
              </button>
            </div>
          </div>
          <div id="text-content" class="text-content"></div>
        </div>
        
        <div class="instruction" id="instruction">
          <div class="instruction-icon">
            <i class="fas fa-lightbulb"></i>
          </div>
          <div class="instruction-text">
            <h3>How to use Grok OCR</h3>
            <ol>
              <li>Right-click on any image on a webpage</li>
              <li>Select "Perform OCR on this image"</li>
              <li>Wait for the text to be extracted</li>
            </ol>
            <div class="tip-container">
              <p class="tip"><i class="fas fa-info-circle"></i> Tip: You can customize your OCR prompt in settings</p>
            </div>
          </div>
        </div>
      </div>
      
      <div id="expanded-image-overlay" class="expanded-image-overlay">
        <div class="expanded-image-container">
          <button id="close-expanded" class="close-button">
            <i class="fas fa-times"></i>
          </button>
          <img id="expanded-image" alt="Expanded image">
        </div>
      </div>
    </div>
    
    <div id="toast-container" class="toast-container"></div>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>